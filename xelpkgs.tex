\usepackage{zxjatype}
\usepackage{xltxtra}

\defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\setjamainfont{TakaoExMincho}
\setjasansfont{Source Han Sans JP}
\setjamonofont{Koruri}

\XeTeXlinebreaklocale "ja"
\setlength{\parindent}{1em}
\XeTeXlinebreakskip=0pt plus 1pt
\XeTeXlinebreakpenalty=0
\def\<{\@ifstar{\zx@hwback\nobreak}{\zx@hwback\relax}}
\def\zx@hwback#1{\leavevmode#1\hskip-.5em\relax}
